generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model cats {
  id    Int    @id @default(autoincrement())
  name  String
  age   Int
  breed String
}

model User {
  id                              Int           @id @default(autoincrement())
  clerkId                         String        @unique @map("clerk_id")
  onboardedAt                     DateTime?     @map("onboarded_at")
  acceptTermsAndPrivacyPolicy     Boolean       @map("accept_terms_and_privacy_policy")
  acknowledgesLegalRepresentation Boolean       @map("acknowledges_legal_representation")
  sunatProfile                    SunatProfile?

  @@map("users")
}

model Organization {
  id       Int    @id @default(autoincrement())
  // uriName String @unique
  name     String @unique
  category String
  ruc      String @unique
  size     Int

  @@map("organizations")
}

model SunatProfile {
  id              Int    @id @default(autoincrement())
  userId          Int    @unique @map("user_id")
  account         String @unique
  encryptedSolKey String @map("encrypted_sol_key")
  user            User   @relation(fields: [userId], references: [id])

  @@map("sunat_profiles")
}

model schema_migrations {
  version BigInt  @id
  dirty   Boolean
}
